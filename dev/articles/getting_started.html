<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using the BayesPostEst package • BayesPostEst</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using the BayesPostEst package">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BayesPostEst</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.2.1.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting_started.html">Using the BayesPostEst package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ShanaScogin/BayesPostEst">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Using the BayesPostEst package</h1>
                        <h4 class="author">Johannes Karreth</h4>
                        <h4 class="author">Shana Scogin</h4>
                        <h4 class="author">Rob Williams</h4>
                        <h4 class="author">Andreas Beger</h4>
            
            <h4 class="date">2020-06-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ShanaScogin/BayesPostEst/blob/master/vignettes/getting_started.Rmd"><code>vignettes/getting_started.Rmd</code></a></small>
      <div class="hidden name"><code>getting_started.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>BayesPostEst contains functions to generate postestimation quantities after estimating Bayesian regression models. The package was inspired by a set of functions written originally for <a href="http://www.jkarreth.net">Johannes Karreth</a>’s workshop on Bayesian modeling at the <a href="https://www.icpsr.umich.edu/icpsrweb/sumprog/">ICPSR Summer program</a>. It has grown to include new functions (see <code>mcmcReg</code>) and will continue to grow to support Bayesian postestimation. For now, the package focuses mostly on generalized linear regression models for binary outcomes (logistic and probit regression). More details on the package philosophy, its functions, and related packages can be found in <span class="citation">Scogin et al. (2019)</span>.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>To install the latest release on CRAN:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"BayesPostEst"</span>)</code></pre></div>
<p>The latest development version on GitHub can be installed with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"devtools"</span>)
<span class="kw"><a href="https://rdrr.io/pkg/devtools/man/reexports.html">install_github</a></span>(<span class="st">"ShanaScogin/BayesPostEst"</span>)</code></pre></div>
<p>Once you have installed the package, you can access it by calling:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"BayesPostEst"</span>)</code></pre></div>
<p>After the package is loaded, check out the <code><a href="../reference/BayesPostEst.html">?BayesPostEst</a></code> to see a help file.</p>
</div>
<div id="general-setup" class="section level1">
<h1 class="hasAnchor">
<a href="#general-setup" class="anchor"></a>General setup</h1>
<p>Most functions in this package work with posterior distributions of parameters. These distributions need to be converted into a matrix. All functions in the package do this automatically for posterior draws generated by JAGS, BUGS, MCMCpack, rstan, and rstanarm. For posterior draws generated by other tools, users must convert these objects into a matrix, where rows represent iterations and columns represent parameters.</p>
</div>
<div id="example-data" class="section level1">
<h1 class="hasAnchor">
<a href="#example-data" class="anchor"></a>Example data</h1>
<p>This vignette uses the <code>Cowles</code> dataset <span class="citation">(Cowles and Davis 1987)</span> from the carData package <span class="citation">(Fox, Weisberg, and Price 2018)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span>carData<span class="op">::</span>Cowles</code></pre></div>
<p>This data frame contains information on 1421 individuals in the following variables:</p>
<ul>
<li>neuroticism: scale from Eysenck personality inventory.</li>
<li>extraversion: scale from Eysenck personality inventory.</li>
<li>sex: a factor with levels: female; male.</li>
<li>volunteer: volunteering, a factor with levels: no; yes. This is the outcome variable for the running example in this vignette.</li>
</ul>
<p>Before proceeding, we convert the two factor variables <code>sex</code> and <code>volunteer</code> into numeric variables. We also means-center and standardize the two continuous variables by dividing each by two standard deviations <span class="citation">(Gelman and Hill 2007)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df<span class="op">$</span>female &lt;-<span class="st"> </span>(<span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(df<span class="op">$</span>sex) <span class="op">-</span><span class="st"> </span><span class="dv">2</span>) <span class="op">*</span><span class="st"> </span>(<span class="op">-</span><span class="dv">1</span>)
df<span class="op">$</span>volunteer &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(df<span class="op">$</span>volunteer) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>
df<span class="op">$</span>extraversion &lt;-<span class="st"> </span>(df<span class="op">$</span>extraversion <span class="op">-</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(df<span class="op">$</span>extraversion)) <span class="op">/</span><span class="st"> </span>(<span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span>(df<span class="op">$</span>extraversion))
df<span class="op">$</span>neuroticism &lt;-<span class="st"> </span>(df<span class="op">$</span>neuroticism <span class="op">-</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(df<span class="op">$</span>neuroticism)) <span class="op">/</span><span class="st"> </span>(<span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span>(df<span class="op">$</span>neuroticism))</code></pre></div>
<p>We estimate a Bayesian generalized linear model with the inverse logit link function, where</p>
<p><span class="math display">\[
Pr(\text{Volunteering}_i) = \text{logit}^{-1}(\beta_1 + \beta_2 \text{Female}_i +  \beta_3 \text{Neuroticism}_i + \beta_4 \text{Extraversion}_i)
\]</span></p>
<p><code>BayesPostEst</code> functions accommodate GLM estimates for both logit and probit link functions. The examples proceed with the logit link function. If we had estimated a probit regression, the corresponding argument <code>link</code> in relevant function calls would need to be set to <code>link = "probit"</code>. Otherwise, it is set to <code>link = "logit"</code> by default.</p>
</div>
<div id="model-estimation" class="section level1">
<h1 class="hasAnchor">
<a href="#model-estimation" class="anchor"></a>Model estimation</h1>
<p>To use <code>BayesPostEst</code>, we first estimate a Bayesian regression model. This vignette demonstrates five tools for doing so: JAGS (via the <a href="https://cran.r-project.org/package=R2jags">R2jags</a> and <a href="https://cran.r-project.org/package=rjags">rjags</a> packages), <a href="https://cran.r-project.org/package=MCMCpack">MCMCpack</a>, and the two Stan interfaces <a href="https://cran.r-project.org/package=rstan">rstan</a> and <a href="https://cran.r-project.org/package=rstanarm">rstanarm</a>.</p>
<div id="jags" class="section level2">
<h2 class="hasAnchor">
<a href="#jags" class="anchor"></a>JAGS</h2>
<p>First, we prepare the data for JAGS <span class="citation">(Plummer 2017)</span>. Users need to combine all variables into a list and specify any other elements, like in this case N, the number of observations.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dl &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(df[, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"volunteer"</span>, <span class="st">"female"</span>, <span class="st">"neuroticism"</span>, <span class="st">"extraversion"</span>)])
dl<span class="op">$</span>N &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(df)</code></pre></div>
<p>We then write the JAGS model into the working directory.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mod.jags &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">" </span>
<span class="st">model {</span>
<span class="st">for (i in 1:N){</span>
<span class="st">  volunteer[i] ~ dbern(p[i])  </span>
<span class="st">  logit(p[i]) &lt;- mu[i]   </span>
<span class="st">  mu[i] &lt;- b[1] + b[2] * female[i] + b[3] * neuroticism[i] + b[4] * extraversion[i]</span>
<span class="st">  }</span>
<span class="st">for(j in 1:4){</span>
<span class="st">  b[j] ~ dnorm(0, 0.1)</span>
<span class="st">  }</span>
<span class="st">}</span>
<span class="st">"</span>)
<span class="kw"><a href="https://rdrr.io/r/base/writeLines.html">writeLines</a></span>(mod.jags, <span class="st">"mod.jags"</span>)    </code></pre></div>
<p>We then define the parameters for which we wish to retain posterior distributions and provide starting values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">params.jags &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"b"</span>)
inits1.jags &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"b"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="dv">0</span>, <span class="dv">4</span>))
inits.jags &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(inits1.jags, inits1.jags, inits1.jags, inits1.jags)</code></pre></div>
<p>Now, fit the model using the R2jags package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"R2jags"</span>)
<span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)
fit.jags &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/R2jags/man/jags.html">jags</a></span>(<span class="dt">data =</span> dl, <span class="dt">inits =</span> inits.jags, 
  <span class="dt">parameters.to.save =</span> params.jags, <span class="dt">n.chains =</span> <span class="dv">4</span>, <span class="dt">n.iter =</span> <span class="dv">2000</span>, 
  <span class="dt">n.burnin =</span> <span class="dv">1000</span>, <span class="dt">model.file =</span> <span class="st">"mod.jags"</span>)
<span class="co">#&gt; Compiling model graph</span>
<span class="co">#&gt;    Resolving undeclared variables</span>
<span class="co">#&gt;    Allocating nodes</span>
<span class="co">#&gt; Graph information:</span>
<span class="co">#&gt;    Observed stochastic nodes: 1421</span>
<span class="co">#&gt;    Unobserved stochastic nodes: 4</span>
<span class="co">#&gt;    Total graph size: 6864</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Initializing model</span></code></pre></div>
<p>The same data and model can be used to fit the model using the rjags package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"rjags"</span>)
mod.rjags &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/rjags/man/jags.model.html">jags.model</a></span>(<span class="dt">file =</span> <span class="st">"mod.jags"</span>, <span class="dt">data =</span> dl, <span class="dt">inits =</span> inits.jags,
                        <span class="dt">n.chains =</span> <span class="dv">4</span>, <span class="dt">n.adapt =</span> <span class="dv">1000</span>)
<span class="co">#&gt; Compiling model graph</span>
<span class="co">#&gt;    Resolving undeclared variables</span>
<span class="co">#&gt;    Allocating nodes</span>
<span class="co">#&gt; Graph information:</span>
<span class="co">#&gt;    Observed stochastic nodes: 1421</span>
<span class="co">#&gt;    Unobserved stochastic nodes: 4</span>
<span class="co">#&gt;    Total graph size: 6864</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Initializing model</span>
fit.rjags &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/rjags/man/coda.samples.html">coda.samples</a></span>(<span class="dt">model =</span> mod.rjags,
                          <span class="dt">variable.names =</span> params.jags,
                          <span class="dt">n.iter =</span> <span class="dv">2000</span>)</code></pre></div>
</div>
<div id="mcmcpack" class="section level2">
<h2 class="hasAnchor">
<a href="#mcmcpack" class="anchor"></a>MCMCpack</h2>
<p>We estimate the same model using MCMCpack <span class="citation">(Martin, Quinn, and Park 2011)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"MCMCpack"</span>)
fit.MCMCpack &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/MCMCpack/man/MCMClogit.html">MCMClogit</a></span>(volunteer <span class="op">~</span><span class="st"> </span>female <span class="op">+</span><span class="st"> </span>neuroticism <span class="op">+</span><span class="st"> </span>extraversion, 
                          <span class="dt">data =</span> df, <span class="dt">burning =</span> <span class="dv">1000</span>, <span class="dt">mcmc =</span> <span class="dv">2000</span>, <span class="dt">seed =</span> <span class="dv">123</span>,
                          <span class="dt">b0 =</span> <span class="dv">0</span>, <span class="dt">B0 =</span> <span class="fl">0.1</span>)</code></pre></div>
</div>
<div id="rstan" class="section level2">
<h2 class="hasAnchor">
<a href="#rstan" class="anchor"></a>RStan</h2>
<p>We write the same model in Stan language.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mod.stan &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">" </span>
<span class="st">data {</span>
<span class="st">  int&lt;lower=0&gt; N;</span>
<span class="st">  int&lt;lower=0,upper=1&gt; volunteer[N];</span>
<span class="st">  vector[N] female;</span>
<span class="st">  vector[N] neuroticism;</span>
<span class="st">  vector[N] extraversion;</span>
<span class="st">}</span>
<span class="st">parameters {</span>
<span class="st">  vector[4] b;</span>
<span class="st">}</span>
<span class="st">model {</span>
<span class="st">  volunteer ~ bernoulli_logit(b[1] + b[2] * female + b[3] * neuroticism + b[4] * extraversion);</span>
<span class="st">  for(i in 1:4){</span>
<span class="st">    b[i] ~ normal(0, 3); </span>
<span class="st">  }</span>
<span class="st">}</span>
<span class="st">"</span>)
<span class="kw"><a href="https://rdrr.io/r/base/writeLines.html">writeLines</a></span>(mod.stan, <span class="st">"mod.stan"</span>)    </code></pre></div>
<p>We then load rstan <span class="citation">(Stan Development Team 2019)</span>…</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"rstan"</span>)
<span class="kw"><a href="https://rdrr.io/pkg/rstan/man/rstan_options.html">rstan_options</a></span>(<span class="dt">auto_write =</span> <span class="ot">TRUE</span>)
<span class="kw"><a href="https://rdrr.io/r/base/options.html">options</a></span>(<span class="dt">mc.cores =</span> <span class="dv">2</span>)</code></pre></div>
<p>… and estimate the model, re-using the data in list format created for JAGS earlier.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fit.stan &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/rstan/man/stan.html">stan</a></span>(<span class="dt">file =</span> <span class="st">"mod.stan"</span>,  
           <span class="dt">data =</span> dl,         
           <span class="dt">pars =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"b"</span>),     
           <span class="dt">chains =</span> <span class="dv">4</span>,        
           <span class="dt">iter =</span> <span class="dv">2000</span>,       
           <span class="dt">seed =</span> <span class="dv">123</span>)    </code></pre></div>
</div>
<div id="rstanarm" class="section level2">
<h2 class="hasAnchor">
<a href="#rstanarm" class="anchor"></a>rstanarm</h2>
<p>Lastly, we use the rstanarm interface <span class="citation">(Goodrich et al. 2019)</span> to estimate the same model again.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"rstanarm"</span>)
fit.rstanarm &lt;-<span class="st"> </span><span class="kw"><a href="https://mc-stan.org/rstanarm/reference/stan_glm.html">stan_glm</a></span>(volunteer <span class="op">~</span><span class="st"> </span>female <span class="op">+</span><span class="st"> </span>neuroticism <span class="op">+</span><span class="st"> </span>extraversion, 
                          <span class="dt">data =</span> df, <span class="dt">family =</span> <span class="kw"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span>(<span class="dt">link =</span> <span class="st">"logit"</span>),
                         <span class="dt">prior =</span> <span class="kw"><a href="https://mc-stan.org/rstanarm/reference/priors.html">normal</a></span>(<span class="dv">0</span>, <span class="dv">3</span>),
                         <span class="dt">prior_intercept =</span> <span class="kw"><a href="https://mc-stan.org/rstanarm/reference/priors.html">normal</a></span>(<span class="dv">0</span>, <span class="dv">3</span>),
                         <span class="dt">chains =</span> <span class="dv">4</span>, 
                         <span class="dt">iter =</span> <span class="dv">2000</span>,
                         <span class="dt">seed =</span> <span class="dv">123</span>)</code></pre></div>
</div>
</div>
<div id="tables-of-regression-coefficients-and-other-parameters" class="section level1">
<h1 class="hasAnchor">
<a href="#tables-of-regression-coefficients-and-other-parameters" class="anchor"></a>Tables of regression coefficients and other parameters</h1>
<p>BayesPostEst contains functions to generate regression tables from objects created by the following packages: R2jags, runjags, rjags, R2WinBUGS, MCMCpack, rstan, rstanarm, and brms. This includes the following object classes: <code>jags</code>, <code>rjags</code>, <code>bugs</code>, <code>mcmc</code>, <code>mcmc.list</code>, <code>stanreg</code>, <code>stanfit</code>, <code>brmsfit</code>. The package contains two different functions to produce regression tables:</p>
<ul>
<li><code>mcmcTab</code></li>
<li><code>mcmcReg</code></li>
</ul>
<p>Each has its own advantages which we discuss in depth below.</p>
<div id="bayesian-regression-tables" class="section level2">
<h2 class="hasAnchor">
<a href="#bayesian-regression-tables" class="anchor"></a>Bayesian regression tables</h2>
<p><code>mcmcTab</code> generates a table summarizing the posterior distributions of all parameters contained in the model object. This table can then be used to summarize parameter quantities. By default, <code>mcmcTab</code> generates a dataframe with one row per parameter and columns containing the median, standard deviation, and 95% credible interval of each parameter’s posterior distribution.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcTab.html">mcmcTab</a></span>(fit.jags)
<span class="co">#&gt;   Variable   Median    SD    Lower    Upper</span>
<span class="co">#&gt; 1     b[1]   -0.462 0.082   -0.622   -0.298</span>
<span class="co">#&gt; 2     b[2]    0.238 0.112    0.017    0.455</span>
<span class="co">#&gt; 3     b[3]    0.063 0.113   -0.158    0.283</span>
<span class="co">#&gt; 4     b[4]    0.515 0.112    0.291    0.729</span>
<span class="co">#&gt; 5 deviance 1909.455 2.875 1906.574 1917.541</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcTab.html">mcmcTab</a></span>(fit.rjags)
<span class="co">#&gt;   Variable Median    SD  Lower  Upper</span>
<span class="co">#&gt; 1     b[1] -0.459 0.083 -0.621 -0.296</span>
<span class="co">#&gt; 2     b[2]  0.235 0.112  0.016  0.456</span>
<span class="co">#&gt; 3     b[3]  0.063 0.112 -0.157  0.280</span>
<span class="co">#&gt; 4     b[4]  0.518 0.110  0.307  0.732</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcTab.html">mcmcTab</a></span>(fit.MCMCpack)
<span class="co">#&gt;       Variable Median    SD  Lower  Upper</span>
<span class="co">#&gt; 1  (Intercept) -0.463 0.083 -0.612 -0.304</span>
<span class="co">#&gt; 2       female  0.231 0.110  0.016  0.435</span>
<span class="co">#&gt; 3  neuroticism  0.058 0.112 -0.147  0.321</span>
<span class="co">#&gt; 4 extraversion  0.509 0.102  0.320  0.718</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcTab.html">mcmcTab</a></span>(fit.stan)
<span class="co">#&gt;   Variable   Median    SD    Lower    Upper</span>
<span class="co">#&gt; 1     b[1]   -0.461 0.084   -0.634   -0.293</span>
<span class="co">#&gt; 2     b[2]    0.238 0.114    0.010    0.459</span>
<span class="co">#&gt; 3     b[3]    0.064 0.113   -0.159    0.288</span>
<span class="co">#&gt; 4     b[4]    0.518 0.113    0.303    0.738</span>
<span class="co">#&gt; 5     lp__ -954.749 1.449 -958.634 -953.318</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcTab.html">mcmcTab</a></span>(fit.rstanarm)
<span class="co">#&gt;       Variable Median    SD  Lower  Upper</span>
<span class="co">#&gt; 1  (Intercept) -0.458 0.081 -0.623 -0.306</span>
<span class="co">#&gt; 2       female  0.237 0.111  0.023  0.462</span>
<span class="co">#&gt; 3  neuroticism  0.055 0.108 -0.144  0.276</span>
<span class="co">#&gt; 4 extraversion  0.518 0.112  0.296  0.733</span></code></pre></div>
<div id="proportion-of-positivenegative-draws" class="section level3">
<h3 class="hasAnchor">
<a href="#proportion-of-positivenegative-draws" class="anchor"></a>Proportion of positive/negative draws</h3>
<p>Users can add a column to the table that calculates the percent of posterior draws that have the same sign as the median of the posterior distribution.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcTab.html">mcmcTab</a></span>(fit.jags, <span class="dt">Pr =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt;   Variable   Median    SD    Lower    Upper    Pr</span>
<span class="co">#&gt; 1     b[1]   -0.462 0.082   -0.622   -0.298 1.000</span>
<span class="co">#&gt; 2     b[2]    0.238 0.112    0.017    0.455 0.984</span>
<span class="co">#&gt; 3     b[3]    0.063 0.113   -0.158    0.283 0.712</span>
<span class="co">#&gt; 4     b[4]    0.515 0.112    0.291    0.729 1.000</span>
<span class="co">#&gt; 5 deviance 1909.455 2.875 1906.574 1917.541 1.000</span></code></pre></div>
</div>
<div id="rope" class="section level3">
<h3 class="hasAnchor">
<a href="#rope" class="anchor"></a>ROPE</h3>
<p>Users can also define a “region of practical equivalence” (ROPE; <span class="citation">J. K. Kruschke (2013)</span>; <span class="citation">J. K. Kruschke (2018)</span>). This region is a band of values around 0 that are “practically equivalent” to 0 or no effect. For this to be useful, all parameters (e.g. regression coefficients) must be on the same scale because mcmcTab accepts only one definition of ROPE for all parameters. Users can standardize regression coefficients to achieve this. Because we standardized variables earlier, the coefficients (except the intercept) are on a similar scale and we define the ROPE to be between -0.1 and 0.1.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcTab.html">mcmcTab</a></span>(fit.jags, <span class="dt">pars =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"b[2]"</span>, <span class="st">"b[3]"</span>, <span class="st">"b[4]"</span>), <span class="dt">ROPE =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="fl">0.1</span>, <span class="fl">0.1</span>))
<span class="co">#&gt;   Variable Median    SD  Lower Upper PrOutROPE</span>
<span class="co">#&gt; 1     b[2]  0.238 0.112  0.017 0.455     0.885</span>
<span class="co">#&gt; 2     b[3]  0.063 0.113 -0.158 0.283     0.376</span>
<span class="co">#&gt; 3     b[4]  0.515 0.112  0.291 0.729     1.000</span></code></pre></div>
</div>
</div>
<div id="conventional-regression-tables" class="section level2">
<h2 class="hasAnchor">
<a href="#conventional-regression-tables" class="anchor"></a>Conventional regression tables</h2>
<p>The <code>mcmcReg</code> function serves as an interface to <code>texreg</code> and produces more polished and publication-ready tables than <code>mcmcTab</code>. <code>mcmcReg</code> writes tables in HTML or LaTeX format. <code>mcmcReg</code> can produce tables with multiple models with each model in a column and supports flexible renaming of parameters. However, these tables are more similar to standard frequentist regression tables, so they do not have a way to incorporate the percent of posterior draws that have the same sign as the median of the posterior distribution or a ROPE like <code>mcmcTab</code> is able to. Uncertainty intervals can be either standard credible intervals or highest posterior density intervals <span class="citation">(J. Kruschke 2015)</span> using the <code>hpdi</code> argument, and their level can be set with the <code>ci</code> argument (default 95%). Separately calculated goodness of fit statistics can be included with the <code>gof</code> argument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(fit.jags, <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">doctype =</span> F)</code></pre></div>
<table class="table">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[1]
</td>
<td style="padding-right: 12px; border: none;">
-0.46<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.62; -0.30]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[2]
</td>
<td style="padding-right: 12px; border: none;">
0.24<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.02; 0.46]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[3]
</td>
<td style="padding-right: 12px; border: none;">
0.06
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.16; 0.28]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[4]
</td>
<td style="padding-right: 12px; border: none;">
0.51<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.29; 0.73]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
deviance
</td>
<td style="padding-right: 12px; border: none;">
1910.11<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[1906.57; 1917.54]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="3">
<span style="font-size:0.8em"><sup>*</sup> 0 outside 95% credible interval</span>
</td>
</tr>
</table>
<div id="limiting-output" class="section level3">
<h3 class="hasAnchor">
<a href="#limiting-output" class="anchor"></a>Limiting output</h3>
<p><code>mcmcReg</code> supports limiting the parameters included in the table via the <code>pars</code> argument. By default, all parameters saved in the model object will be included. In the case of <code>fit.jags</code>, this include the deviance estimate. If we wish to exclude it, we can specify <code>pars = 'b'</code> which will capture <code>b[1]</code>-<code>b[4]</code> using regular expression matching.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(fit.jags, <span class="dt">pars =</span> <span class="st">'b'</span>, <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">regex =</span> T, <span class="dt">doctype =</span> F)</code></pre></div>
<table class="table">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[1]
</td>
<td style="padding-right: 12px; border: none;">
-0.46<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.62; -0.30]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[2]
</td>
<td style="padding-right: 12px; border: none;">
0.24<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.02; 0.46]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[3]
</td>
<td style="padding-right: 12px; border: none;">
0.06
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.16; 0.28]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[4]
</td>
<td style="padding-right: 12px; border: none;">
0.51<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[0.29; 0.73]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="3">
<span style="font-size:0.8em"><sup>*</sup> 0 outside 95% credible interval</span>
</td>
</tr>
</table>
<p>If we only wish to exclude the intercept, we can do this by explicitly specifying the parameters we wish to include as a vector. Note that in this example we have to escape the <code>[]</code>s in <code>pars</code> because they are a reserved character in regular expressions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(fit.jags, <span class="dt">pars =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'b</span><span class="ch">\\</span><span class="st">[1</span><span class="ch">\\</span><span class="st">]'</span>, <span class="st">'b</span><span class="ch">\\</span><span class="st">[3</span><span class="ch">\\</span><span class="st">]'</span>, <span class="st">'b</span><span class="ch">\\</span><span class="st">[4</span><span class="ch">\\</span><span class="st">]'</span>), 
        <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">regex =</span> T, <span class="dt">doctype =</span> F)</code></pre></div>
<table class="table">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[1]
</td>
<td style="padding-right: 12px; border: none;">
-0.46<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.62; -0.30]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[3]
</td>
<td style="padding-right: 12px; border: none;">
0.06
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.16; 0.28]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[4]
</td>
<td style="padding-right: 12px; border: none;">
0.51<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[0.29; 0.73]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="3">
<span style="font-size:0.8em"><sup>*</sup> 0 outside 95% credible interval</span>
</td>
</tr>
</table>
<p><code>mcmcReg</code> also supports partial regular expression matching of multiple parameter family names as demonstrated below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(fit.jags, <span class="dt">pars =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'b'</span>, <span class="st">'dev'</span>), 
        <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">regex =</span> T, <span class="dt">doctype =</span> F)</code></pre></div>
<table class="table">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[1]
</td>
<td style="padding-right: 12px; border: none;">
-0.46<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.62; -0.30]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[2]
</td>
<td style="padding-right: 12px; border: none;">
0.24<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.02; 0.46]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[3]
</td>
<td style="padding-right: 12px; border: none;">
0.06
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.16; 0.28]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[4]
</td>
<td style="padding-right: 12px; border: none;">
0.51<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.29; 0.73]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
deviance
</td>
<td style="padding-right: 12px; border: none;">
1910.11<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[1906.57; 1917.54]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="3">
<span style="font-size:0.8em"><sup>*</sup> 0 outside 95% credible interval</span>
</td>
</tr>
</table>
</div>
<div id="custom-coefficient-names" class="section level3">
<h3 class="hasAnchor">
<a href="#custom-coefficient-names" class="anchor"></a>Custom coefficient names</h3>
<p><code>mcmcReg</code> supports custom coefficient names to support publication-ready tables. The simplest option is via the <code>coefnames</code> argument. Note that the number of parameters and the number of custom coefficient names must match, so it is a good idea to use <code>pars</code> in tandem with <code>coefnames</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(fit.jags, <span class="dt">pars =</span> <span class="st">'b'</span>,
        <span class="dt">coefnames =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'(Constant)'</span>, <span class="st">'Female'</span>, <span class="st">'Neuroticism'</span>, <span class="st">'Extraversion'</span>),
        <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">regex =</span> T, <span class="dt">doctype =</span> F)</code></pre></div>
<table class="table">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Constant)
</td>
<td style="padding-right: 12px; border: none;">
-0.46<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.62; -0.30]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Female
</td>
<td style="padding-right: 12px; border: none;">
0.24<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.02; 0.46]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Neuroticism
</td>
<td style="padding-right: 12px; border: none;">
0.06
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.16; 0.28]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Extraversion
</td>
<td style="padding-right: 12px; border: none;">
0.51<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[0.29; 0.73]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="3">
<span style="font-size:0.8em"><sup>*</sup> 0 outside 95% credible interval</span>
</td>
</tr>
</table>
<p>A more flexible way to include custom coefficient names is via the <code>custom.coef.map</code> argument, which accepts a named list, with names as parameter names in the model and values as the custom coefficient names.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(fit.jags, <span class="dt">pars =</span> <span class="st">'b'</span>,
        <span class="dt">custom.coef.map =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">'b[1]'</span> =<span class="st"> '(Constant)'</span>,
                               <span class="st">'b[2]'</span> =<span class="st"> 'Female'</span>,
                               <span class="st">'b[3]'</span> =<span class="st"> 'Nueroticism'</span>,
                               <span class="st">'b[4]'</span> =<span class="st"> 'Extraversion'</span>),
        <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">regex =</span> T, <span class="dt">doctype =</span> F)</code></pre></div>
<table class="table">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Constant)
</td>
<td style="padding-right: 12px; border: none;">
-0.46<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.62; -0.30]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Female
</td>
<td style="padding-right: 12px; border: none;">
0.24<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.02; 0.46]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Nueroticism
</td>
<td style="padding-right: 12px; border: none;">
0.06
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.16; 0.28]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Extraversion
</td>
<td style="padding-right: 12px; border: none;">
0.51<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[0.29; 0.73]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="3">
<span style="font-size:0.8em"><sup>*</sup> 0 outside 95% credible interval</span>
</td>
</tr>
</table>
<p>The advantage of <code>custom.coef.map</code> is that it can flexibly reorder and omit coefficients from the table based on their positions within the list. Notice in the code below that deviance does not have to be included in <code>pars</code> because its absence from <code>custom.coef.map</code> omits it from the resulting table.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(fit.jags,
        <span class="dt">custom.coef.map =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">'b[2]'</span> =<span class="st"> 'Female'</span>,
                               <span class="st">'b[4]'</span> =<span class="st"> 'Extraversion'</span>,
                               <span class="st">'b[1]'</span> =<span class="st"> '(Constant)'</span>),
        <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">doctype =</span> F)</code></pre></div>
<table class="table">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Female
</td>
<td style="padding-right: 12px; border: none;">
0.24<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.02; 0.46]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Extraversion
</td>
<td style="padding-right: 12px; border: none;">
0.51<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.29; 0.73]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Constant)
</td>
<td style="padding-right: 12px; border: none;">
-0.46<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[-0.62; -0.30]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="3">
<span style="font-size:0.8em"><sup>*</sup> 0 outside 95% credible interval</span>
</td>
</tr>
</table>
<p>However, it is important to remember that <code>mcmcReg</code> will look for the parameter names in the model object, so be sure to inspect it for the correct parameter names. This is important because <code>stan_glm</code> will produce a model object with variable names instead of indexed parameter names.</p>
</div>
<div id="multiple-models" class="section level3">
<h3 class="hasAnchor">
<a href="#multiple-models" class="anchor"></a>Multiple models</h3>
<p><code>mcmcReg</code> accepts multiple model objects and will produce a table with one model per column. To produce a table from multiple models, pass a list of models as the <code>mod</code> argument to <code>mcmcReg</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(fit.stan, fit.stan), <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">doctype =</span> F)</code></pre></div>
<table class="table">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 2</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[1]
</td>
<td style="padding-right: 12px; border: none;">
-0.46<sup style="vertical-align: 0px;">*</sup>
</td>
<td style="padding-right: 12px; border: none;">
-0.46<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.63; -0.29]
</td>
<td style="padding-right: 12px; border: none;">
[-0.63; -0.29]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[2]
</td>
<td style="padding-right: 12px; border: none;">
0.24<sup style="vertical-align: 0px;">*</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.24<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.01; 0.46]
</td>
<td style="padding-right: 12px; border: none;">
[0.01; 0.46]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[3]
</td>
<td style="padding-right: 12px; border: none;">
0.06
</td>
<td style="padding-right: 12px; border: none;">
0.06
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.16; 0.29]
</td>
<td style="padding-right: 12px; border: none;">
[-0.16; 0.29]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
b[4]
</td>
<td style="padding-right: 12px; border: none;">
0.52<sup style="vertical-align: 0px;">*</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.52<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.30; 0.74]
</td>
<td style="padding-right: 12px; border: none;">
[0.30; 0.74]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
lp__
</td>
<td style="padding-right: 12px; border: none;">
-955.08<sup style="vertical-align: 0px;">*</sup>
</td>
<td style="padding-right: 12px; border: none;">
-955.08<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[-958.63; -953.32]
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[-958.63; -953.32]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="4">
<span style="font-size:0.8em"><sup>*</sup> 0 outside 95% credible interval</span>
</td>
</tr>
</table>
<p>Note, however, that all model objects must be of the same class, so it is <em>not</em> possible to generate a table from a <code>jags</code> object and a <code>stanfit</code> object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(fit.jags, fit.stan), <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">doctype =</span> F)
<span class="co">#&gt; Error in mcmcReg(list(fit.jags, fit.stan), format = "html", doctype = F): More than one object class supplied to argument "mod"</span></code></pre></div>
<p>When including multiple models, supplying scalars or vectors to arguments will result in them being applied to each model equally. Treating models differentially is possible by supplying a list of scalars or vectors instead.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(fit.rstanarm, fit.rstanarm),
        <span class="dt">pars =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'female'</span>, <span class="st">'extraversion'</span>), <span class="st">'neuroticism'</span>),
        <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">doctype =</span> F)</code></pre></div>
<table class="table">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 2</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
female
</td>
<td style="padding-right: 12px; border: none;">
0.24<sup style="vertical-align: 0px;">*</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.02; 0.46]
</td>
<td style="padding-right: 12px; border: none;">
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
extraversion
</td>
<td style="padding-right: 12px; border: none;">
0.52<sup style="vertical-align: 0px;">*</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.30; 0.73]
</td>
<td style="padding-right: 12px; border: none;">
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
neuroticism
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.06
</td>
</tr>
<tr>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[-0.14; 0.28]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="4">
<span style="font-size:0.8em"><sup>*</sup> 0 outside 95% credible interval</span>
</td>
</tr>
</table>
</div>
<div id="texreg-arguments" class="section level3">
<h3 class="hasAnchor">
<a href="#texreg-arguments" class="anchor"></a><code>texreg</code> arguments</h3>
<p>Although <code>custom.coef.map</code> is not an argument to <code>mcmcReg</code>, it works because <code>mcmcReg</code> supports all standard <code>texreg</code> arguments (a few have been overridden, but they are explicit arguments to <code>mcmcReg</code>). This introduces a high level of control over the output of <code>mcmcReg</code>, as e.g. models can be renamed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcReg.html">mcmcReg</a></span>(fit.rstanarm, <span class="dt">custom.model.names =</span> <span class="st">'Binary Outcome'</span>, 
        <span class="dt">format =</span> <span class="st">'html'</span>, <span class="dt">doctype =</span> F)</code></pre></div>
<table class="table">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Binary Outcome</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Intercept)
</td>
<td style="padding-right: 12px; border: none;">
-0.46<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.62; -0.31]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
female
</td>
<td style="padding-right: 12px; border: none;">
0.24<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[0.02; 0.46]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
neuroticism
</td>
<td style="padding-right: 12px; border: none;">
0.06
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
[-0.14; 0.28]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
extraversion
</td>
<td style="padding-right: 12px; border: none;">
0.52<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
</td>
<td style="padding-right: 12px; border-bottom: 2px solid black;">
[0.30; 0.73]
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="3">
<span style="font-size:0.8em"><sup>*</sup> 0 outside 95% credible interval</span>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="predicted-probabilities" class="section level1">
<h1 class="hasAnchor">
<a href="#predicted-probabilities" class="anchor"></a>Predicted probabilities</h1>
<div id="mcmcaveprob" class="section level2">
<h2 class="hasAnchor">
<a href="#mcmcaveprob" class="anchor"></a><code>mcmcAveProb</code>
</h2>
<p>To evaluate the relationship between covariates and a binary outcome, this function calculates the predicted probability (<span class="math inline">\(Pr(y = 1)\)</span>) at pre-defined values of one covariate of interest (<span class="math inline">\(x\)</span>), while all other covariates are held at a “typical” value. This follows suggestions outlined in <span class="citation">King, Tomz, and Wittenberg (2000)</span> and elsewhere, which are commonly adopted by users of GLMs. The <code>mcmcAveProb</code> function by default calculates the median value of all covariates other than <span class="math inline">\(x\)</span> as “typical” values.</p>
<p>Before moving on, we show how create a matrix of posterior draws of coefficients to pass onto these functions. Eventually, each function will contain code similar to the first section of <code>mcmcTab</code> to do this as part of the function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mcmcmat.jags &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span>(coda<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/coda/man/mcmc.html">as.mcmc</a></span>(fit.jags))
mcmcmat.MCMCpack &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span>(fit.MCMCpack)
  
mcmcmat.stan &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span>(fit.stan)
  
mcmcmat.rstanarm &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span>(fit.rstanarm)</code></pre></div>
<p>Next, we generate the model matrix to pass on to the function. A model matrix contains as many columns as estimated regression coefficients. The first column is a vector of 1s (corresponding to the intercept); the remaining columns are the observed values of covariates in the model. <strong>Note: the order of columns in the model matrix must correspond to the order of columns in the matrix of posterior draws.</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mm &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/model.matrix.html">model.matrix</a></span>(volunteer <span class="op">~</span><span class="st"> </span>female <span class="op">+</span><span class="st"> </span>neuroticism <span class="op">+</span><span class="st"> </span>extraversion,
                   <span class="dt">data =</span> df)</code></pre></div>
<p>We can now generate predicted probabilities for different values of a covariate of interest.</p>
<div id="sex" class="section level3">
<h3 class="hasAnchor">
<a href="#sex" class="anchor"></a>Sex</h3>
<p>First, we generate full posterior distributions of the predicted probability of volunteering for a typical female and a typical male. In this function and <code>mcmcObsProb</code>, users specify the range of <span class="math inline">\(x\)</span> (here 0 and 1) as well as the number of the column of <span class="math inline">\(x\)</span> in the matrix of posterior draws as well as the model matrix.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">aveprob.female.jags &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mcmcAveProb.html">mcmcAveProb</a></span>(<span class="dt">modelmatrix =</span> mm,
            <span class="dt">mcmcout =</span> mcmcmat.jags[, <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(mm)],
            <span class="dt">xcol =</span> <span class="dv">2</span>,
            <span class="dt">xrange =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="dv">1</span>),
            <span class="dt">link =</span> <span class="st">"logit"</span>,
            <span class="dt">ci =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>),
            <span class="dt">fullsims =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>Users can then visualize this posterior distribution using the ggplot2 and <code>ggridges</code> packages.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"ggplot2"</span>)
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"ggridges"</span>)
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> aveprob.female.jags, 
       <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">y =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(x), <span class="dt">x =</span> pp)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/ggridges/man/stat_density_ridges.html">stat_density_ridges</a></span>(<span class="dt">quantile_lines =</span> <span class="ot">TRUE</span>, 
                <span class="dt">quantiles =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.025</span>, <span class="fl">0.5</span>, <span class="fl">0.975</span>), <span class="dt">vline_color =</span> <span class="st">"white"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_y_discrete</a></span>(<span class="dt">labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">""</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Estimated probability of volunteering"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">title =</span> <span class="st">"Probability based on average-case approach"</span>)</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-37-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="extraversion" class="section level3">
<h3 class="hasAnchor">
<a href="#extraversion" class="anchor"></a>Extraversion</h3>
<p>For continuous variables of interest, users may want to set <code>fullsims = FALSE</code> to obtain the median predicted probability along the range of <span class="math inline">\(x\)</span> as well as a lower and upper bound of choice (here, the 95% credible interval).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">aveprob.extra.jags &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mcmcAveProb.html">mcmcAveProb</a></span>(<span class="dt">modelmatrix =</span> mm,
            <span class="dt">mcmcout =</span> mcmcmat.jags[, <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(mm)],
            <span class="dt">xcol =</span> <span class="dv">4</span>,
            <span class="dt">xrange =</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span>(df<span class="op">$</span>extraversion), <span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(df<span class="op">$</span>extraversion), <span class="dt">length.out =</span> <span class="dv">20</span>),
            <span class="dt">link =</span> <span class="st">"logit"</span>,
            <span class="dt">ci =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>),
            <span class="dt">fullsims =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>Users can then plot the resulting probabilities using any plotting functions, such as ggplot2.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> aveprob.extra.jags, 
       <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> median_pp)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_ribbon</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">ymin =</span> lower_pp, <span class="dt">ymax =</span> upper_pp), <span class="dt">fill =</span> <span class="st">"gray"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Extraversion"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Estimated probability of volunteering"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/lims.html">ylim</a></span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">title =</span> <span class="st">"Probability based on average-case approach"</span>)</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-39-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="mcmcobsprob" class="section level2">
<h2 class="hasAnchor">
<a href="#mcmcobsprob" class="anchor"></a><code>mcmcObsProb</code>
</h2>
<p>As an alternative to probabilities for “typical” cases, <span class="citation">Hanmer and Kalkan (2013)</span> suggest to calculate predicted probabilities for all observed cases and then derive an “average effect”. In their words, the goal of this postestimation “is to obtain an estimate of the average effect in the population … rather than seeking to understand the effect for the average case.”</p>
<div id="sex-1" class="section level3">
<h3 class="hasAnchor">
<a href="#sex-1" class="anchor"></a>Sex</h3>
<p>We first calculate the average “effect” of sex on volunteering, again generating a full posterior distribution. Again, <code>xcol</code> represents the position of the covariate of interest, and <code>xrange</code> specifies the values for which <span class="math inline">\(Pr(y = 1)\)</span> is to be calculated.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">obsprob.female.jags &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mcmcObsProb.html">mcmcObsProb</a></span>(<span class="dt">modelmatrix =</span> mm,
            <span class="dt">mcmcout =</span> mcmcmat.jags[, <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(mm)],
            <span class="dt">xcol =</span> <span class="dv">2</span>,
            <span class="dt">xrange =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="dv">1</span>),
            <span class="dt">link =</span> <span class="st">"logit"</span>,
            <span class="dt">ci =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>),
            <span class="dt">fullsims =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>Users can again plot the resulting densities.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> obsprob.female.jags, 
       <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">y =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(x), <span class="dt">x =</span> pp)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/ggridges/man/stat_density_ridges.html">stat_density_ridges</a></span>(<span class="dt">quantile_lines =</span> <span class="ot">TRUE</span>, 
                <span class="dt">quantiles =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.025</span>, <span class="fl">0.5</span>, <span class="fl">0.975</span>), <span class="dt">vline_color =</span> <span class="st">"white"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_y_discrete</a></span>(<span class="dt">labels =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">""</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Estimated probability of volunteering"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">title =</span> <span class="st">"Probability based on observed-case approach"</span>)</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-41-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="extraversion-1" class="section level3">
<h3 class="hasAnchor">
<a href="#extraversion-1" class="anchor"></a>Extraversion</h3>
<p>For this continuous predictor, we use <code>fullsims = FALSE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">obsprob.extra.jags &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mcmcObsProb.html">mcmcObsProb</a></span>(<span class="dt">modelmatrix =</span> mm,
            <span class="dt">mcmcout =</span> mcmcmat.jags[, <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(mm)],
            <span class="dt">xcol =</span> <span class="dv">4</span>,
            <span class="dt">xrange =</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span>(df<span class="op">$</span>extraversion), <span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(df<span class="op">$</span>extraversion), <span class="dt">length.out =</span> <span class="dv">20</span>),
            <span class="dt">link =</span> <span class="st">"logit"</span>,
            <span class="dt">ci =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>),
            <span class="dt">fullsims =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>We then plot the resulting probabilities across observed cases.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> obsprob.extra.jags, 
       <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> median_pp)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_ribbon</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">ymin =</span> lower_pp, <span class="dt">ymax =</span> upper_pp), <span class="dt">fill =</span> <span class="st">"gray"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Extraversion"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Estimated probability of volunteering"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/lims.html">ylim</a></span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">title =</span> <span class="st">"Probability based on observed-case approach"</span>)</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-43-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
</div>
<div id="first-differences" class="section level1">
<h1 class="hasAnchor">
<a href="#first-differences" class="anchor"></a>First differences</h1>
<div id="mcmcfd" class="section level2">
<h2 class="hasAnchor">
<a href="#mcmcfd" class="anchor"></a><code>mcmcFD</code>
</h2>
<p>To summarize typical effects across covariates, we generate “first differences” (<span class="citation">Long (1997)</span>, <span class="citation">King, Tomz, and Wittenberg (2000)</span>). This quantity represents, for each covariate, the difference in predicted probabilities for cases with low and high values of the respective covariate. For each of these differences, all other variables are held constant at their median.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fdfull.jags &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mcmcFD.html">mcmcFD</a></span>(<span class="dt">modelmatrix =</span> mm,
                  <span class="dt">mcmcout =</span> mcmcmat.jags[, <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(mm)],
                  <span class="dt">link =</span> <span class="st">"logit"</span>,
                  <span class="dt">ci =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>),
                  <span class="dt">fullsims =</span> <span class="ot">TRUE</span>)
<span class="kw"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(fdfull.jags)
<span class="co">#&gt;      female          neuroticism         extraversion    </span>
<span class="co">#&gt;  Min.   :-0.04432   Min.   :-0.055522   Min.   :0.01957  </span>
<span class="co">#&gt;  1st Qu.: 0.03972   1st Qu.:-0.002247   1st Qu.:0.06957  </span>
<span class="co">#&gt;  Median : 0.05795   Median : 0.011224   Median :0.08132  </span>
<span class="co">#&gt;  Mean   : 0.05779   Mean   : 0.011263   Mean   :0.08124  </span>
<span class="co">#&gt;  3rd Qu.: 0.07619   3rd Qu.: 0.024511   3rd Qu.:0.09313  </span>
<span class="co">#&gt;  Max.   : 0.15245   Max.   : 0.080707   Max.   :0.14269</span></code></pre></div>
<p>The posterior distribution can be summarized as above, or users can directly obtain a summary when setting <code>fullsims</code> to FALSE.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fdsum.jags &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mcmcFD.html">mcmcFD</a></span>(<span class="dt">modelmatrix =</span> mm,
                  <span class="dt">mcmcout =</span> mcmcmat.jags[, <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(mm)],
                  <span class="dt">link =</span> <span class="st">"logit"</span>,
                  <span class="dt">ci =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>),
                  <span class="dt">fullsims =</span> <span class="ot">FALSE</span>)
fdsum.jags
<span class="co">#&gt;               median_fd     lower_fd   upper_fd      VarName VarID</span>
<span class="co">#&gt; female       0.05794760  0.004299115 0.11073472       female     1</span>
<span class="co">#&gt; neuroticism  0.01122442 -0.028097810 0.05008092  neuroticism     2</span>
<span class="co">#&gt; extraversion 0.08132383  0.045716391 0.11482003 extraversion     3</span></code></pre></div>
<p>Users can plot the median and credible intervals of the summary of the first differences.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> fdsum.jags, 
       <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> median_fd, <span class="dt">y =</span> VarName)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> lower_fd, <span class="dt">xend =</span> upper_fd, <span class="dt">yend =</span> VarName)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="dt">xintercept =</span> <span class="dv">0</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Change in Pr(Volunteering)"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">""</span>)</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-46-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="mcmcfdplot" class="section level2">
<h2 class="hasAnchor">
<a href="#mcmcfdplot" class="anchor"></a><code>mcmcFDplot</code>
</h2>
<p>To make use of the full posterior distribution of first differences, we provide a dedicated plotting function. <code>mcmcFDplot</code> returns a ggplot2 object that can be further customized. The function is modeled after Figure 1 in <span class="citation">Karreth (2018)</span>. Users can specify a region of practical equivalence and print the percent of posterior draws to the right or left of the ROPE. If ROPE is not specified, the figure automatically prints the percent of posterior draws to the left or right of 0.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/mcmcFDplot.html">mcmcFDplot</a></span>(<span class="dt">fdfull =</span> fdfull.jags, <span class="dt">ROPE =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="fl">0.01</span>, <span class="fl">0.01</span>))</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-47-1.png" width="90%" style="display: block; margin: auto;"></p>
<p>The user can further customize the plot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mcmcFDplot.html">mcmcFDplot</a></span>(<span class="dt">fdfull =</span> fdfull.jags, <span class="dt">ROPE =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="fl">0.01</span>, <span class="fl">0.01</span>))
p <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">title =</span> <span class="st">"First differences"</span>) <span class="op">+</span><span class="st"> </span>ggridges<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ggridges/man/theme_ridges.html">theme_ridges</a></span>()</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-48-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="model-fit" class="section level1">
<h1 class="hasAnchor">
<a href="#model-fit" class="anchor"></a>Model fit</h1>
<div id="mcmcrocprc" class="section level2">
<h2 class="hasAnchor">
<a href="#mcmcrocprc" class="anchor"></a><code>mcmcRocPrc</code>
</h2>
<p>One way to assess model fit is to calculate the area under the Receiver Operating Characteristic (ROC) and Precision-Recall curves. A short description of these curves and their utility for model assessment is provided in <span class="citation">Beger (2016)</span>. The <code>mcmcRocPrc</code> function produces an object with four elements: the area under the ROC curve, the area under the PR curve, and two dataframes to plot each curve. When <code>fullsims</code> is set to <code>FALSE</code>, the elements represent the median of the posterior distribution of each quantity.</p>
<p><code>mcmcRocPrc</code> currently requires an “rjags” object (a model fitted in R2jags) as input. Future package versions will generalize this input to allow for model objects fit with any of the other packages used in BayesPostEst.</p>
<!-- Because each of these measures relies on comparing the observed $y$ to $Pr(y = 1)$, the function requires both the posterior distribution of all regression coefficients as well as a model frame. This model frame contains all variables used to estimate the model, with the outcome variable in the first column and all other variables following thereafter. -->
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fitstats &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mcmcRocPrc.html">mcmcRocPrc</a></span>(<span class="dt">object =</span> fit.jags,
                       <span class="dt">yname  =</span> <span class="st">"volunteer"</span>,
                       <span class="dt">xnames =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"female"</span>, <span class="st">"neuroticism"</span>, <span class="st">"extraversion"</span>),
                       <span class="dt">curves =</span> <span class="ot">TRUE</span>,
                       <span class="dt">fullsims =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>Users can then print the area under the each curve:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fitstats<span class="op">$</span>area_under_roc
<span class="co">#&gt;        V1 </span>
<span class="co">#&gt; 0.5840611</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fitstats<span class="op">$</span>area_under_prc
<span class="co">#&gt;        V1 </span>
<span class="co">#&gt; 0.4867844</span></code></pre></div>
<p>Users can also plot the ROC curve…</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> fitstats<span class="op">$</span>roc_dat, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span>(<span class="dt">intercept =</span> <span class="dv">0</span>, <span class="dt">slope =</span> <span class="dv">1</span>, <span class="dt">color =</span> <span class="st">"gray"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">title =</span> <span class="st">"ROC curve"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"1 - Specificity"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Sensitivity"</span>)</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-52-1.png" width="90%" style="display: block; margin: auto;"></p>
<p>… as well as the precision-recall curve.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="dt">data =</span> fitstats<span class="op">$</span>prc_dat, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">title =</span> <span class="st">"Precision-Recall curve"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Recall"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Precision"</span>)</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-53-1.png" width="90%" style="display: block; margin: auto;"></p>
<p>To plot the posterior distribution of the area under the curves, users set the <code>fullsims</code> argument to <code>TRUE</code>. Unless a user wishes to plot credible intervals around the ROC and PR curves themselves, we recommend keeping <code>curves</code> at <code>FALSE</code> to avoid long computation time.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fitstats.fullsims &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mcmcRocPrc.html">mcmcRocPrc</a></span>(<span class="dt">object =</span> fit.jags,
                       <span class="dt">yname  =</span> <span class="st">"volunteer"</span>,
                       <span class="dt">xnames =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"female"</span>, <span class="st">"neuroticism"</span>, <span class="st">"extraversion"</span>),
                       <span class="dt">curves =</span> <span class="ot">FALSE</span>,
                       <span class="dt">fullsims =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>We can then plot the posterior density of the area under each curve.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(fitstats.fullsims, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> area_under_roc)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span>() <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">title =</span> <span class="st">"Area under the ROC curve"</span>)</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-55-1.png" width="90%" style="display: block; margin: auto;"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(fitstats.fullsims, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> area_under_prc)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span>() <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">title =</span> <span class="st">"Area under the Precision-Recall curve"</span>)</code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-56-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-Beger2016">
<p>Beger, Andreas. 2016. “Precision-Recall Curves.” <em>Available at SSRN: Https://Ssrn.com/Abstract=2765419</em>. <a href="http://dx.doi.org/10.2139/ssrn.2765419" class="uri">http://dx.doi.org/10.2139/ssrn.2765419</a>.</p>
</div>
<div id="ref-CowlesDavis1987">
<p>Cowles, Michael, and Caroline Davis. 1987. “The Subject Matter of Psychology: Volunteers.” <em>British Journal of Social Psychology</em> 26 (2): 97–102. doi:<a href="https://doi.org/10.1111/j.2044-8309.1987.tb00769.x">10.1111/j.2044-8309.1987.tb00769.x</a>.</p>
</div>
<div id="ref-carData2018">
<p>Fox, John, Sanford Weisberg, and Brad Price. 2018. <em>CarData: Companion to Applied Regression Data Sets</em>. <a href="https://CRAN.R-project.org/package=carData" class="uri">https://CRAN.R-project.org/package=carData</a>.</p>
</div>
<div id="ref-Gelman2007">
<p>Gelman, Andrew, and Jennifer Hill. 2007. <em>Data Analysis Using Regression and Multilevel/Hierarchical Models</em>. New York, NY: Cambridge University Press.</p>
</div>
<div id="ref-rstanarm2019">
<p>Goodrich, Ben, Jonah Gabry, Imad Ali, and Sam Brilleman. 2019. <em>Rstanarm: Bayesian Applied Regression Modeling via Stan.</em> <a href="http://mc-stan.org/" class="uri">http://mc-stan.org/</a>.</p>
</div>
<div id="ref-HanmerKalkan2013">
<p>Hanmer, Michael J., and Kerem Ozan Kalkan. 2013. “Behind the Curve: Clarifying the Best Approach to Calculating Predicted Probabilities and Marginal Effects from Limited Dependent Variable Models.” <em>American Journal of Political Science</em> 57 (1): 263–77. doi:<a href="https://doi.org/10.1111/j.1540-5907.2012.00602.x">10.1111/j.1540-5907.2012.00602.x</a>.</p>
</div>
<div id="ref-Karreth2018">
<p>Karreth, Johannes. 2018. “The Economic Leverage of International Organizations in Interstate Disputes.” <em>International Interactions</em> 44 (3): 463–90. doi:<a href="https://doi.org/10.1080/03050629.2018.1389728">10.1080/03050629.2018.1389728</a>.</p>
</div>
<div id="ref-KingEtal2000">
<p>King, Gary, Michael Tomz, and Jason Wittenberg. 2000. “Making the Most of Statistical Analyses: Improving Interpretation and Presentation.” <em>American Journal of Political Science</em> 44 (2): 347–61. <a href="http://www.jstor.org/stable/2669316" class="uri">http://www.jstor.org/stable/2669316</a>.</p>
</div>
<div id="ref-Kruschke2015">
<p>Kruschke, John. 2015. <em>Doing Bayesian Data Analysis: A Tutorial with R, JAGS, and Stan</em>. 2nd Edition. Amsterdam : Academic Press, 2015.</p>
</div>
<div id="ref-Kruschke2013">
<p>Kruschke, John K. 2013. “Bayesian Estimation Supersedes the T-Test.” <em>Journal of Experimental Psychology: General</em> 142 (2): 573–603. doi:<a href="https://doi.org/10.1037/a0029146">10.1037/a0029146</a>.</p>
</div>
<div id="ref-Kruschke2018">
<p>———. 2018. “Rejecting or Accepting Parameter Values in Bayesian Estimation.” <em>Advances in Methods and Practices in Psychological Science</em> 1 (2): 270–80. doi:<a href="https://doi.org/10.1177/2515245918771304">10.1177/2515245918771304</a>.</p>
</div>
<div id="ref-Long1997">
<p>Long, J. Scott. 1997. <em>Regression Models for Categorial and Limited Dependent Variables</em>. Thousand Oaks: Sage Publications.</p>
</div>
<div id="ref-MCMCpack">
<p>Martin, Andrew D., Kevin M. Quinn, and Jong Hee Park. 2011. “MCMCpack: Markov Chain Monte Carlo in R.” <em>Journal of Statistical Software</em> 42 (9): 22. <a href="http://www.jstatsoft.org/v42/i09/" class="uri">http://www.jstatsoft.org/v42/i09/</a>.</p>
</div>
<div id="ref-jags2017">
<p>Plummer, Martyn. 2017. “JAGS Version 4.3.0 User Manual.” <a href="http://mcmc-jags.sourceforge.net" class="uri">http://mcmc-jags.sourceforge.net</a>.</p>
</div>
<div id="ref-ScoginEtal2019">
<p>Scogin, Shana, Johannes Karreth, Andreas Beger, and Rob Williams. 2019. “BayesPostEst: An R Package to Generate Postestimation Quantities for Bayesian MCMC Estimation.” <em>Journal of Open Source Software</em> 4 (42): 1722. doi:<a href="https://doi.org/10.21105/joss.01722">10.21105/joss.01722</a>.</p>
</div>
<div id="ref-rstan2019">
<p>Stan Development Team. 2019. <em>RStan: The R Interface to Stan</em>. <a href="http://mc-stan.org/" class="uri">http://mc-stan.org/</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#installation">Installation</a></li>
      <li><a href="#general-setup">General setup</a></li>
      <li><a href="#example-data">Example data</a></li>
      <li>
<a href="#model-estimation">Model estimation</a><ul class="nav nav-pills nav-stacked">
<li><a href="#jags">JAGS</a></li>
      <li><a href="#mcmcpack">MCMCpack</a></li>
      <li><a href="#rstan">RStan</a></li>
      <li><a href="#rstanarm">rstanarm</a></li>
      </ul>
</li>
      <li>
<a href="#tables-of-regression-coefficients-and-other-parameters">Tables of regression coefficients and other parameters</a><ul class="nav nav-pills nav-stacked">
<li><a href="#bayesian-regression-tables">Bayesian regression tables</a></li>
      <li><a href="#conventional-regression-tables">Conventional regression tables</a></li>
      </ul>
</li>
      <li>
<a href="#predicted-probabilities">Predicted probabilities</a><ul class="nav nav-pills nav-stacked">
<li><a href="#mcmcaveprob"><code>mcmcAveProb</code></a></li>
      <li><a href="#mcmcobsprob"><code>mcmcObsProb</code></a></li>
      </ul>
</li>
      <li>
<a href="#first-differences">First differences</a><ul class="nav nav-pills nav-stacked">
<li><a href="#mcmcfd"><code>mcmcFD</code></a></li>
      <li><a href="#mcmcfdplot"><code>mcmcFDplot</code></a></li>
      </ul>
</li>
      <li>
<a href="#model-fit">Model fit</a><ul class="nav nav-pills nav-stacked">
<li><a href="#mcmcrocprc"><code>mcmcRocPrc</code></a></li>
      </ul>
</li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Johannes Karreth, Shana Scogin, Rob Williams, Andreas Beger.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
